<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registro</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">
    <div class="bg-white p-8 rounded-2xl shadow-xl w-96">
        <h1 class="text-2xl font-bold mb-6 text-center">Registrarse</h1>

        <form id="registerForm" class="space-y-4">
            <div>
                <label class="block text-gray-700">Nombre Completo</label>
                <input type="text" name="nombreCompleto" class="w-full border rounded-lg px-3 py-2" required>
            </div>

            <div>
                <label class="block text-gray-700">Correo Electrónico</label>
                <input type="email" name="correoElectronico" class="w-full border rounded-lg px-3 py-2" required>
            </div>

            <div>
                <label class="block text-gray-700">Contraseña</label>
                <input type="password" name="contrasena" class="w-full border rounded-lg px-3 py-2" required>
            </div>

            <div>
                <label class="block text-gray-700">Teléfono</label>
                <input type="text" name="telefono" class="w-full border rounded-lg px-3 py-2">
            </div>

            <div>
                <label class="block text-gray-700">Ciudad</label>
                <input type="text" name="ciudad" class="w-full border rounded-lg px-3 py-2">
            </div>

            <div>
                <label class="block text-gray-700">Tipo de Usuario</label>
                <select name="tipoUsuario" class="w-full border rounded-lg px-3 py-2">
                    <option value="ADOPTANTE">Adoptante</option>
                    <option value="PUBLICADOR">Publicador</option>
                </select>
            </div>

            <button type="submit" class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600">
                Crear Cuenta
            </button>
        </form>
    </div>

    <script>
    document.getElementById('registerForm').addEventListener('submit', async function(e) {
        e.preventDefault();

        const data = {
            nombreCompleto: e.target.nombreCompleto.value,
            correoElectronico: e.target.correoElectronico.value,
            contrasena: e.target.contrasena.value,
            telefono: e.target.telefono.value,
            ciudad: e.target.ciudad.value,
            tipoUsuario: e.target.tipoUsuario.value
        };

        const response = await fetch('/auth/registro', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });

        const result = await response.text();
        alert(result);
    });
    </script>
</body>
</html>
